\section{LR(k) Automaton Construction}

\begin{enumerate}
\item \textbf{Augment the Grammar}: Add a new start symbol $S'$ and production $S' \to S \$$, where $S$ is the original start symbol.
\item \textbf{Initialize the First State}: Compute the initial state $I_0 = CLOSURE(\{[S' \to \bullet S \$]\})$, where the dot ($\bullet$) indicates the current position in the production.
\item \textbf{Compute CLOSURE}: For a set of items $I$
\item \textbf{Compute GOTO}: For a state $I$ and symbol $X$ (terminal or nonterminal)
\item \textbf{Build the State Machine}:
   \begin{itemize}
   \item Initialize the set of states $\mathcal{C} = \{I_0\}$ and worklist $W = \{I_0\}$.
   \item While $W \neq \emptyset$:
     \begin{itemize}
     \item Remove a state $I$ from $W$.
     \item For each symbol $X$ where $GOTO(I, X) \neq \emptyset$:
       \begin{itemize}
       \item Let $J = GOTO(I, X)$.
       \item If $J \notin \mathcal{C}$, add $J$ to $\mathcal{C}$ and $W$.
       \item Add transition $I \xrightarrow{X} J$ to the automaton.
       \end{itemize}
     \end{itemize}
   \end{itemize}
   \item \textbf{Construct the Parsing Table}:
      \begin{itemize}
      \item For each state $I \in \mathcal{C}$:
        \begin{itemize}
        \item If $[A \to \alpha \bullet a \beta, w] \in I$, $a$ is a terminal, and $\text{GOTO}(I, a) = J$, add \textit{shift} to state $J$ for $a$ in the action table.
        \item If $[A \to \alpha \bullet, w] \in I$ and $A \neq S'$, add \textit{reduce} by $A \to \alpha$ for lookahead $w$ in the action table.
        \item If $[S' \to S \bullet \$, w] \in I$, add \textit{accept} for lookahead $\$$ in the action table.
        \item For nonterminal $A$, if $\text{GOTO}(I, A) = J$, add \textit{goto} state $J$ for $A$ in the goto table.
        \end{itemize}
      \item \textbf{Check for Conflicts}: For each state $I$ and lookahead $a$ in the action table:
        \begin{itemize}
        \item If the cell for $(I, a)$ has both a \textit{shift} and a \textit{reduce} action, report a \textit{shift-reduce} conflict.
        \item If the cell for $(I, a)$ has multiple \textit{reduce} actions, report a \textit{reduce-reduce} conflict.
        \item If any conflicts exist, the grammar is not LR(k).
        \end{itemize}
      \end{itemize}
      \end{enumerate}
