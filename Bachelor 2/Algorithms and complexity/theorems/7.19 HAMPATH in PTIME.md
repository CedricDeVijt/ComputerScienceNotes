The following is a nondeterministic Turing machine (NTM) that decides the HAMPATH problem in nondeterministic polynomial time. We defined the time of a nondeterministic machine to be the time used by the longest computation branch.

$N_1 =$
“On input $⟨G,s,t⟩$, where $G$ is a directed graph with nodes $s$ and $t$:

1. Write a list of $m$ numbers, $p_1,...,p_m$, where $m$ is the number of nodes in $G$. Each number in the list is nondeterministically selected to be between $1$ and $m$.
2. Check for repetitions in the list. If any are found, reject.
3. Check whether $s= p_1$ and $t= p_m$. If either fail, reject.
4. For each $i$ between $1$ and $m−1$, check whether $(p_i,p_{i+1})$ is an edge of $G$. If any are not, reject. Otherwise, all tests have been passed, so accept.

”

To analyze this algorithm and verify that it runs in nondeterministic polynomial time, we examine each of its stages. In stage 1, the nondeterministic selection clearly runs in polynomial time. In stages 2 and 3, each part is a simple check, so together they run in polynomial time. Finally, stage 4 also clearly runs in poly

```py
verify(graph,  certificate):
    m = number of nodes in graph
    if length(certificate) != m:
        return reject
    if certificate[0] != start_node or certificate[m-1] != end_node:
        return reject
    visited = set()
    for i in range(m):
        if certificate[i] in visited:
            return reject
        visited.add(certificate[i])
        if i < m - 1 and not is_edge(graph, certificate[i], certificate[i + 1]):
            return reject
    return accept
```
