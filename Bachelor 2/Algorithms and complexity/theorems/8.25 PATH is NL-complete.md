## PROOF IDEA

We must show that $PATH$ is in $NL$ and that $PATH$ is $NL$-hard. In other words, we must show that every language $A$ in $NL$ is log space reducible to $PATH$.

The idea behind the log space reduction from $A$ to $PATH$ is to construct a graph that represents the computation of the nondeterministic log space Turing machine for $A$. The reduction maps a string $w$ to a graph whose nodes correspond to the configurations of the NTM on input $w$. One node points to a second node if the corresponding first configuration can yield the second configuration in a single step of the NTM. Hence the machine accepts $w$ whenever some path from the node corresponding to the start configuration leads to the node corresponding to the accepting configuration.

## PROOF

### $PATH$ is in $NL$

The nondeterministic log space Turing machine deciding $PATH$ operates by starting at node $s$ and nondeterministically guessing the nodes of a path from $s$ to $t$. The machine records only the position of the current node at each step on the work tape, not the entire path (which would exceed the logarithmic space requirement). The machine nondeterministically selects the next node from among those pointed at by the current node. It repeats this action until it reaches node $t$ and accepts, or until it has gone on for $m$ steps and rejects, where $m$ is the number of nodes in the graph. Thus, $PATH$ is in $NL$.

### $PATH$ is $NL$-hard

Now we show how to give a log space reduction from any language $A$ in $NL$ to $PATH$. Let’s say that $NTM$ $M$ decides $A$ in $O(\log n)$ space. Given an input $w$, we construct $\langle G,s,t\rangle$ in log space, where $G$ is a directed graph that contains a path from $s$ to $t$ if and only if $M$ accepts $w$.

The nodes of $G$ are the configurations of $M$ on $w$. For configurations $c_1$ and $c_2$ of $M$ on $w$, the pair $(c_1,c_2)$ is an edge of $G$ if $c_2$ is one of the possible next configurations of $M$ starting from $c_1$. More precisely, if $M$’s transition function indicates that $c_1$’s state together with the tape symbols under its input and work tape heads can yield the next state and head actions to make $c_1$ into $c_2$, then $(c_1,c_2)$ is an edge of $G$. Node $s$ is the start configuration of $M$ on $w$. Machine $M$ is modified to have a unique accepting configuration, and we designate this configuration to be node $t$.

This mapping reduces $A$ to $PATH$ because whenever $M$ accepts its input, some branch of its computation accepts, which corresponds to a path from the start configuration $s$ to the accepting configuration $t$ in $G$. Conversely, if some path exists from $s$ to $t$ in $G$, some computation branch accepts when $M$ runs on input $w$, and $M$ accepts $w$.

To show that the reduction operates in log space, we give a log space transducer that outputs $\langle G,s,t\rangle$ on input $w$. We describe $G$ by listing its nodes and edges. Listing the nodes is easy because each node is a configuration of $M$ on $w$ and can be represented in $c\log n$ space for some constant $c$. The transducer sequentially goes through all possible strings of length $c\log n$, tests whether each is a legal configuration of $M$ on $w$, and outputs those that pass the test. The transducer lists the edges similarly. Log space is sufficient for verifying that a configuration $c_1$ of $M$ on $w$ can yield configuration $c_2$ because the transducer only needs to examine the actual tape contents under the head locations given in $c_1$ to determine that $M$’s transition function would give configuration $c_2$ as a result. The transducer tries all pairs $(c_1,c_2)$ in turn to find which qualify as edges of $G$. Those that do are added to the output tape.

$\blacksquare$
