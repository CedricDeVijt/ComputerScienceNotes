To prove that Subset Sum is NP-complete, we first note that it is in NP: given a set of integers and a target sum $t$, a proposed subset can be verified to sum to $t$ in polynomial time by adding the elements.

To show NP-hardness, we reduce 3SAT (a known NP-complete problem) to Subset Sum in polynomial time. Given a 3SAT instance—a boolean formula $\phi$ in conjunctive normal form with $n$ variables $v_1, \dots, v_n$ and $m$ clauses, each with exactly three literals—we construct a Subset Sum instance $(A, t)$ such that $\phi$ is satisfiable if and only if there is a subset of $A$ summing to $t$.

## Construction

We represent numbers in base 10 with $n + m$ digits, ensuring no carry-over issues (as maximum sums per digit are less than 10). Label the digit positions as follows:

- Positions 0 to $n-1$ (least significant digits): correspond to variables $v_1$ to $v_n$ (position $i-1$ for $v_i$).
- Positions $n$ to $n+m-1$: correspond to clauses $c_1$ to $c_m$ (position $n+j-1$ for $c_j$).

The set $A$ consists of $2n + 2m$ numbers:

- For each variable $v_i$ ($i = 1$ to $n$):
  - $y_i$ (representing $v_i = \text{true}$): $10^{i-1} + \sum 10^{n+j-1}$ over all clauses $c_j$ where $v_i$ appears positively (as $v_i$).
  - $z_i$ (representing $v_i = \text{false}$): $10^{i-1} + \sum 10^{n+j-1}$ over all clauses $c_j$ where $v_i$ appears negatively (as $\neg v_i$).
- For each clause $c_j$ ($j = 1$ to $m$)—these are "slack" numbers to pad clause digit sums:
  - $g_j = 10^{n+j-1}$ (contributes 1 to the $c_j$ digit).
  - $h_j = 2 \times 10^{n+j-1}$ (contributes 2 to the $c_j$ digit).

The target $t = \sum\limits_{k=0}^{n-1} 1 \times 10^k + \sum\limits_{k=n}^{n+m-1} 4 \times 10^k$.

- This means $t$ has digit 1 in each variable position and digit 4 in each clause position.

This construction is polynomial: $O(n + m)$ numbers, each with $O(n + m)$ digits, computed by scanning the formula.

## Why It Works: 3SAT Satisfiable $\implies$ Subset Sum Yes

Suppose $\phi$ has a satisfying assignment. Select the subset as follows:

- For each variable $v_i$: include $y_i$ if $v_i = \text{true}$, or $z_i$ if $v_i = \text{false}$.
  - This contributes exactly 1 to the digit for $v_i$ (since exactly one of $y_i$ or $z_i$ is chosen per variable).
- For each clause $c_j$: let $s$ be the number of true literals in $c_j$ under the assignment ($s \geq 1$ since satisfiable, and $s \leq 3$).
  - The chosen $y_i$/$z_i$ contribute exactly $s$ to the $c_j$ digit (one per satisfying literal).
  - Add slack to reach exactly 4:
    - If $s=1$, include both $g_j$ and $h_j$ (adds 3, total 4).
    - If $s=2$, include $h_j$ (adds 2, total 4).
    - If $s=3$, include $g_j$ (adds 1, total 4).
  - Slack affects only the $c_j$ digit.

No other digits are affected. Maximum per-digit sums (2 for variables, 6 for clauses) are less than 10, so no carry-over. The total sum is exactly $t$.

## Why It Works: Subset Sum Yes $\implies$ 3SAT Satisfiable

Suppose there is a subset summing to $t$. Since no carry-over is possible, the sum must match $t$ digit-by-digit: 1 in each variable position, 4 in each clause position.

- For each variable digit ($v_i$): sum = 1 implies exactly one of $y_i$ or $z_i$ is included (0 if neither, 2 if both). Define the assignment: $v_i = \text{true}$ if $y_i$ included, $\text{false}$ if $z_i$ included.
- For each clause digit ($c_j$): sum = 4. Let $s$ be the contribution from chosen $y_i$/$z_i$ ($s \leq 3$, one per satisfying literal under the assignment above).
  - Slack ($g_j$, $h_j$) can add 0, 1, 2, or 3.
  - To reach exactly 4: $s +$ slack = 4, so $s \geq 1$ (if $s=0$, max is 3 < 4).
  - Thus, each clause has at least one true literal.

The assignment satisfies $\phi$.

## Example

Consider a tiny 3SAT: $\phi = (v_1 \vee \neg v_2 \vee v_3)$ ($n=3$, $m=1$, one clause $c_1$).

Digits: positions 0=$v_1$, 1=$v_2$, 2=$v_3$, 3=$c_1$.

Numbers ($A$):

- $y_1 = 10^0 + 10^3 = 1 + 1000 = 1001$ (positive in $c_1$).
- $z_1 = 10^0 = 1$ (no negative appearance).
- $y_2 = 10^1 = 10$ (no positive).
- $z_2 = 10^1 + 10^3 = 10 + 1000 = 1010$ (negative in $c_1$).
- $y_3 = 10^2 + 10^3 = 100 + 1000 = 1100$ (positive in $c_1$).
- $z_3 = 10^2 = 100$ (no negative).
- $g_1 = 10^3 = 1000$.
- $h_1 = 2 \times 10^3 = 2000$.

Target $t = 1 \times 10^0 + 1 \times 10^1 + 1 \times 10^2 + 4 \times 10^3 = 1 + 10 + 100 + 4000 = 4111$.

A satisfying assignment, e.g., $v_1=\text{true}, v_2=\text{true}, v_3=\text{false}$: $s=1$ (only $v_1$ true in clause).

- Choose $y_1=1001$, $y_2=10$, $z_3=100$; clause digit sum $s=1$ (from $y_1$).
- Add $g_1 + h_1 = 3000$; total clause digit 1+3=4.
- Sum: 1001 + 10 + 100 + 1000 + 2000 = 4111.

If unsatisfiable (impossible here, but suppose), no subset reaches exactly 4111 while matching digits.
