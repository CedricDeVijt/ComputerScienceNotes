## PROOF IDEA

To prove that 2SAT (the 2-Satisfiability problem) is in PTIME (i.e., solvable in polynomial time), we need to show that there exists an algorithm that decides whether a given 2SAT formula is satisfiable in time polynomial in the size of the input. The standard approach to proving this involves constructing an implication graph and checking for contradictions in variable assignments.

## PROOF

#### Problem Definition

A 2SAT formula is a Boolean formula in conjunctive normal form (CNF) where each clause contains at most two literals. For example, a clause might be $(x \lor y)$, where $x$ and $y$ are literals (variables or their negations). The goal is to determine if there exists an assignment of truth values (true or false) to the variables that makes the entire formula true.

#### Key Idea

We can solve 2SAT by reducing it to a graph problem. Specifically, we construct an _implication graph_ from the 2SAT formula and analyze its strongly connected components (SCCs) to determine satisfiability. The algorithm runs in polynomial time.

#### Steps of the Proof

1. **Construct the Implication Graph**:
   - For a 2SAT formula with $n$ variables and $m$ clauses, create a directed graph with $2n$ vertices, where each variable $x_i$ corresponds to two vertices: one for $x_i$ (true) and one for $\neg x_i$ (false).
   - For each clause $(a \lor b)$, where $a$ and $b$ are literals, add two directed edges to the graph based on the logical implication:
     - The clause $(a \lor b)$ is equivalent to the implications $\neg a \implies b$ and $\neg b \implies a$.
     - If $a = x_i$, then $\neg a = \neg x_i$, and if $a = \neg x_i$, then $\neg a = x_i$. Similarly for $b$.
     - Thus, for a clause $(x_i \lor x_j)$, add edges $\neg x_i \to x_j$ and $\neg x_j \to x_i$.
     - For a clause $(x_i \lor \neg x_j)$, add edges $\neg x_i \to \neg x_j$ and $x_j \to x_i$, and so on.
   - The implication graph has $O(n)$ vertices and $O(m)$ edges, as each clause contributes at most two edges.

2. **Compute Strongly Connected Components (SCCs)**:
   - Use a polynomial-time algorithm (e.g., Kosaraju’s or Tarjan’s algorithm) to find the strongly connected components of the implication graph. Both algorithms run in $O(n + m)$ time.
   - An SCC is a subset of vertices where every vertex is reachable from every other vertex in the subset via directed paths.

3. **Check for Contradictions**:
   - The 2SAT formula is _unsatisfiable_ if and only if there exists a variable $x_i$ such that $x_i$ and $\neg x_i$ are in the same SCC.
     - If $x_i$ and $\neg x_i$ are in the same SCC, there is a path from $x_i$ to $\neg x_i$ and from $\neg x_i$ to $x_i$. This implies a cycle where $x_i \implies \neg x_i$ and $\neg x_i \implies x_i$, meaning $x_i \iff \neg x_i$, which is a contradiction (a variable cannot be both true and false).
   - If no such contradiction exists (i.e., no SCC contains both $x_i$ and $\neg x_i$ for any $i$), the formula is satisfiable.

4. **Construct a Satisfying Assignment (if satisfiable)**:
   - If the formula is satisfiable, compute a topological sort of the SCCs (in the _condensation graph_, where each SCC is a node).
   - Assign truth values to variables by processing the SCCs in reverse topological order:
     - For each SCC, if no variable in it has been assigned a truth value, assign all variables in the SCC to true (i.e., for each variable $x_i$ in the SCC, set $x_i = \text{true}$, which implies $\neg x_i = \text{false}$).
     - Since $x_i$ and $\neg x_i$ are not in the same SCC, this assignment is consistent.
     - If an SCC contains $\neg x_i$, it will be processed after the SCC containing $x_i$ (due to the implication edges), ensuring consistency.
   - This assignment satisfies all clauses because the implication graph encodes the logical constraints of the formula.

5. **Time Complexity**:
   - **Input size**: The input is a 2SAT formula with $n$ variables and $m$ clauses. The formula’s size is $O(n + m)$, as each clause is represented by a constant amount of data.
   - **Graph construction**: Creating the implication graph takes $O(m)$ time, as each clause generates two edges.
   - **SCC computation**: Kosaraju’s or Tarjan’s algorithm runs in $O(n + m)$ time.
   - **Contradiction check**: Checking if any SCC contains both $x_i$ and $\neg x_i$ takes $O(n)$ time by scanning the SCC assignments.
   - **Assignment construction**: Topological sorting and assigning truth values take $O(n + m)$ time.
   - **Total time**: The overall algorithm runs in $O(n + m)$, which is linear in the input size, and thus polynomial.

#### Conclusion

Since there exists an algorithm that decides the satisfiability of a 2SAT formula in $O(n + m)$ time, and $n + m$ is polynomial in the input size, 2SAT is in PTIME.

### Additional Notes

- The algorithm not only decides satisfiability but can also produce a satisfying assignment if one exists, which is often useful in applications.
- This approach contrasts with 3SAT, which is NP-complete, because the implication graph method does not generalize efficiently to clauses with three or more literals.
- The proof relies on the fact that the implication graph captures all logical dependencies in the 2SAT formula, and the SCC analysis efficiently detects contradictions.

Thus, 2SAT ∈ PTIME.

$\blacksquare$
