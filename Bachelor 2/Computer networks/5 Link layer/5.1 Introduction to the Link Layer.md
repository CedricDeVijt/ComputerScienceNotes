## 5.1.1 Communication Path
### Network Layer
- **Communication Service**: Provides communication service between any two network hosts.
- **Datagrams**: Data packets travel between hosts over wired and wireless communication links.
- **Packet Switches**: Datagrams pass through packet switches (switches and routers).
- **End-to-End Transmission**: Begins at the source host and ends at the destination host.
### Link-Layer Transmission
- **Encapsulation**: How network-layer datagrams are encapsulated in link-layer frames for transmission over a single link.
- **Different Protocols**: Possibility of using different link-layer protocols along the communication path.
- **Transmission Conflicts**: How conflicts in broadcast links are resolved.
- **Addressing**: Existence and operation of addressing at the link layer, and its interaction with network-layer addressing.
- **Switch vs. Router**: Understanding the difference between a switch and a router.
- Examples: Wireless LANs, Satellite Networks, HFC Access Networks.
## 5.1.2 Network Layer Interaction with Link Layer
### Node-to-Node Packet Transfer
- **Network Layer Dependency**: Relies on link layer services to move packets between nodes.
- **Datagram Transfer**: Network layer passes datagram to link layer at each node.
- **Delivery to Next Node**: Link layer delivers datagram to the next node along the route.
- **Upward Transmission**: At the next node, link layer passes datagram up to the network layer.
### Link-Layer Protocol Services
- **Dependence on Protocol**: Services provided by link layer depend on the employed link-layer protocol.
- **Example - Reliable Delivery**: Some protocols offer reliable delivery within a single link.
- **Contrast with TCP**: Not to be confused with TCP's end-to-end reliable delivery.
- **Examples of Protocols**: Ethernet, WiFi, DOCSIS (cable access network).
- **Variety of Protocols**: Datagram may encounter different protocols along its route.
- **Example**: Handled by Ethernet on one link, and PPP on the next.
- **Diverse Services**: Network layer receives different services from each link-layer protocol.
- **Terminology**: Link-layer packets referred to as frames in this context.

## 5.1.3 Important Terminology
*Nodes*: Devices running a link-layer (layer 2) protocol.
- **Examples**: Hosts, routers, switches, WiFi access points.

Links: Communication channels connecting adjacent nodes.
- **Purpose**: Facilitate transfer of datagrams from source to destination host.
- **Individual Link Usage**: Datagram must traverse each individual link in the end-to-end path.

## 5.1.4 Link-Layer Protocol Services
### Framing
- **Definition**: Encapsulation of each network-layer datagram within a link-layer frame before transmission.
- **Structure**: Consists of a data field for the datagram and header fields defined by the protocol.
### Link Access
- **Medium Access Control (MAC) Protocol**: Rules governing frame transmission onto the link.
- **Point-to-Point Links**: Simple or non-existent MAC protocol; sender can transmit when the link is idle.
- **Multiple Access Problem**: Coordination of frame transmissions for multiple nodes sharing a single broadcast link.
### Reliable Delivery
- **Definition**: Guarantees error-free movement of each datagram across the link.
- **Similarity to Transport-Layer Reliable Delivery**: Achieved through acknowledgments and retransmissions.
- **Usage**: Common for links prone to high error rates (e.g., wireless links) to correct errors locally.
### Error Detection and Correction
- **Bit Errors**: Incorrect decoding of bits due to signal attenuation and electromagnetic noise.
- **Error Detection**: Mechanism to detect bit errors by including error-detection bits in the frame.
- **Error Correction**: Detects and corrects bit errors in hardware, determining the exact location of errors in the frame.

## 5.1.5 Implementation of Link Layer
### Network Adapter
- **Definition**: Chip responsible for implementing the link layer, also known as Network Interface Controller (NIC).
- **Services Implemented**: Framing, link access, error detection, etc.
- **Hardware Implementation**: Much of the link-layer controller's functionality is implemented in hardware.
### Sending Process
- **Controller Functionality**: Encapsulates datagram into a link-layer frame and transmits it into the communication link.
- **Steps**:
  - Takes datagram from host memory.
  - Fills in frame's various fields.
  - Follows link-access protocol for transmission.
### Receiving Process
- **Controller Functionality**: Receives entire frame and extracts the network-layer datagram.
- **Error Detection**: Performed by the receiving controller if error detection is part of the link layer's functionality.
### Hardware vs. Software Implementation
- **Hardware Dominance**: Most of the link layer is implemented in hardware.
- **Software Components**: Some link-layer functionality implemented in software running on the host's CPU.
- **Software Responsibilities**:
  - Assembling link-layer addressing information.
  - Activating controller hardware.
  - Responding to controller interrupts on the receiving side.
  - Handling error conditions.
  - Passing datagrams up to the network layer.
### Link Layer as a Hybrid
- **Combination**: Link layer is a combination of hardware and software.
- **Integration Point**: Intersection of software and hardware in the protocol stack.

![[Screenshot 2024-05-02 at 11.27.58.png]]
