## 1.2.1 High-level view of the Internet’s architecture
### Communication Links and Packet Switches
- **End systems**: Devices connected together by a network of communication links and packet switches.
- **Transmission rate**: The rate at which different links can transmit data, measured in bits/second.
- **Packets**: Segmented data with header bytes added, sent through the network from one end system to another.
### Packet Switching
- **Packet switch**: A device that takes a packet from an incoming communication link and forwards it on an outgoing link.
- **Routers**: Packet switches used primarily in the network core to forward packets to their destinations.
- **Link-layer switches**: Packet switches used in access networks to forward packets toward their destinations.
- **Route/path**: The sequence of communication links and packet switches traversed by a packet from sender to receiver.
### Internet Service Providers (ISPs)
- **ISPs**: Networks of packet switches and communication links providing Internet access to end systems.
- *Types of ISPs*: Residential ISPs, corporate ISPs, university ISPs, public WiFi ISPs, cellular data ISPs.
- **Access points**: Locations such as airports, hotels, coffee shops providing ISP connectivity.
### ISP Interconnection
- **Lower-tier ISPs**: ISPs providing access to end systems, interconnected through upper-tier ISPs.
- **Upper-tier ISPs**: National and international ISPs interconnected with each other, consisting of high-speed routers and fiber-optic links.
- **Management**: Each ISP network is independently managed, runs the IP protocol, and follows specific naming and address conventions.
## 1.2.2 Access Network
### Edge Router and Access Networks
- **Access network**: Connects an end system to the first router (edge router) on a path to another distant end system.
- **Edge router**: The first router on the path from an end system to other distant systems.
- *Settings*: Home, enterprise, wide-area mobile wireless.
### Residential Broadband Access
- **Digital Subscriber Line (DSL)**: Internet access provided by the local telephone company using existing telephone infrastructure.
- **Cable Internet Access**: Uses the cable television company's infrastructure to provide Internet access.
- **Fibre to the Home (FTTH)**: Provides an optical fibre path from the central office directly to the home, offering gigabit per second speeds.
- **5G Fixed Wireless**: Uses beam-forming technology to send data wirelessly from a provider’s base station to a home modem, avoiding the need for cabling.
### Local Area Networks (LAN)
- **LAN**: Used to connect an end system to the edge router in corporate, university, and home settings.
- **Ethernet**: The most prevalent LAN technology, using twisted-pair copper wire to connect to an Ethernet switch.
- **Wireless LAN (Wi-Fi)**: Based on IEEE 802.11 technology, requires the user to be within a few tens of meters of the access point.

## 1.2.3 The Network Core
### Network Core and Packets
- **Network core**: The mesh of packet switches and links that interconnects the Internet’s end systems.
- **Messages**: Exchanged between end systems in a network application, can contain data like e-mails, images, or audio files.
- **Packets**: Smaller chunks of data into which long messages are broken for transmission.
### Packet Transmission
- **Communication links**: Pathways through which packets travel, transmitting data at the full transmission rate of the link.
- **Transmission time**: The time to transmit a packet of L bits over a link with transmission rate R bits/sec is L / R seconds.
### Store-and-Forward Transmission
- **Store-and-forward transmission**: Packet switches must receive the entire packet before transmitting the first bit onto the outbound link.
- *Router example*: A router with one incoming and one outgoing link must store a packet before forwarding it.

![[Screenshot 2024-05-20 at 14.51.26.png]]
### Time Calculation for Single Packet
- *Source to router*: At time 0, the source begins transmission; at time L/R seconds, the router receives the entire packet.
- *Router to destination*: At time L/R, the router begins transmission; at time 2L/R, the destination receives the entire packet.
- *Total delay*: 2L/R for the entire packet to travel from source to destination.
### Time Calculation for Multiple Packets
- *First packet*: At time L/R, the router begins to forward the first packet, and the source starts sending the second packet.
- *Second packet*: At time 2L/R, the destination receives the first packet, and the router begins forwarding the second packet.
- *Third packet*: At time 3L/R, the destination receives the first two packets, and the router begins forwarding the third packet.
- *All packets*: At time 4L/R, the destination receives all three packets.
### General Case Calculation
- *End-to-end delay*: For N links each of rate R, with N-1 routers between source and destination, the end-to-end delay is: $d_{\text{end-to-end}} = N \frac{L}{R}$
## 1.2.4 Packet Switching and Queuing
### Output Buffers and Queuing
- **Output buffer** (output queue): Stores packets that the router is about to send into an attached link.
- **Queuing delays**: Variable delays that packets suffer while waiting in the output buffer, depending on network congestion.
- *Packet loss*: Occurs when the buffer is full, causing arriving packets or queued packets to be dropped.
### Congestion Example
- *Hosts A and B*: Sending packets to Host E via a router.
- *100 Mbps Ethernet links*: Used by Hosts A and B to send packets to the router.
- *15 Mbps link*: Router directs packets onto this link, causing potential congestion.
- *Burst transmission*: If Hosts A and B send bursts of packets simultaneously, packets will queue in the router’s output buffer, leading to delays.

![[Screenshot 2024-05-20 at 14.56.36.png]]
## 1.2.5 Packet Forwarding
### Forwarding Mechanism
- *IP address*: Every end system in the Internet has an IP address, used for identifying the destination of packets.
- *Packet header*: Contains the destination’s IP address.
- *Hierarchical structure*: Similar to postal addresses, aiding in efficient routing.
### Router Operations
- **Forwarding table**: Maps destination addresses (or portions) to the router’s outbound links.
- *Packet arrival*: Router examines the packet’s destination address and searches its forwarding table to determine the appropriate outbound link.
- **Routing protocols**: Special protocols used to automatically set forwarding tables, often determining the shortest path to configure the tables.

## 1.2.6 Circuit-Switched Networks
### Fundamentals of Circuit Switching
- **Circuit switching**: Resources (buffers, link transmission rate) along a path are reserved for the duration of the communication session.
- **Packet switching**: Resources are used on demand without reservation, leading to potential queuing delays.
### Analogy
- *Restaurant reservation*: Circuit switching is like a restaurant that requires reservations, ensuring immediate seating.
- *No reservation*: Packet switching is like a restaurant that doesn't accept reservations, potentially causing wait times.
### Telephone Networks
- *Connection establishment*: A connection (circuit) is established before sending information, maintaining connection state in switches.
- *Constant transmission rate*: A reserved rate in the network's links guarantees a constant data transfer rate for the connection.
### Circuit-Switched Network Example
- *Network structure*: Four circuit switches interconnected by four links, each with four circuits supporting simultaneous connections.
- *Host communication*: A dedicated end-to-end connection is established, reserving one circuit on each link used.
- *Transmission capacity*: Each connection gets a fraction of the link's total transmission capacity (e.g., 250 kbps if the link rate is 1 Mbps).

![[Screenshot 2024-05-20 at 15.00.25.png]]
### Comparison with Packet Switching
- *Packet transmission*: Sent without reserving link resources, leading to potential delays if links are congested.
- *Best effort delivery*: The Internet attempts timely packet delivery but doesn't guarantee it.
### Example Scenarios
- *Circuit-switched connection*: Host A to Host B uses the second circuit in the first link and the fourth circuit in the second link, reserving capacity for the connection.
- *Packet-switched network*: Packets are transmitted over communication links without reserved resources, suffering delays in case of congestion.

## 1.2.7 Circuit Implementation in Links
### Frequency-Division Multiplexing (FDM)
- **FDM**: Divides the frequency spectrum of a link among connections.
- *Frequency band*: Each connection is allocated a specific frequency band for its duration.
- *Bandwidth*: The width of the frequency band (e.g., 4 kHz for telephone networks).
- *Example*: FM radio stations use FDM to share the spectrum between 88 MHz and 108 MHz, with each station allocated a specific frequency band.
### Time-Division Multiplexing (TDM)
- **TDM**: Divides time into frames of fixed duration, with each frame having a fixed number of time slots.
- *Dedicated time slots*: Each connection is assigned one time slot in every frame, dedicated solely for its use.
- *Transmission rate*: Determined by the frame rate multiplied by the number of bits in a slot.
  - Example: If the link transmits 8,000 frames per second and each slot has 8 bits, the transmission rate for each circuit is 64 kbps.
### FDM and TDM Illustration
- *FDM*: Frequency domain segmented into four equal bands, each representing a circuit.
- *TDM*: Time domain segmented into frames with four time slots each; each circuit is assigned a specific slot in each frame.

![[Screenshot 2024-05-20 at 15.03.28.png]]

## 1.2.8 Comparison of Circuit Switching and Packet Switching
### Critics of Packet Switching
- *Real-time services*: Critics argue that packet switching is unsuitable for real-time services like telephone and video conference calls.
- *Variable delays*: Packet switching leads to variable and unpredictable end-to-end delays, primarily due to queuing delays.
### Proponents of Packet Switching
- *Better sharing of transmission capacity*: Packet switching offers superior sharing of transmission capacity compared to circuit switching.
- *Simplicity and efficiency*: Packet switching is simpler, more efficient, and less costly to implement than circuit switching.
### Current Trends
- *Prevalence*: Both packet switching and circuit switching are prevalent in today’s telecommunication networks.
- *Migration towards packet switching*: The trend has been towards packet switching, even in traditionally circuit-switched networks.
- *Telephone networks*: Many circuit-switched telephone networks are gradually transitioning to packet switching, particularly for overseas calls.
### Importance of Packet Switching
- *Cost-effectiveness*: Packet switching offers cost savings and efficiencies, particularly for data transmission.
- *Flexibility*: Packet switching enables dynamic allocation of resources, adapting to changing network conditions and demand.

## 1.2.9 Structure of the Internet
### Tier-1 ISPs
- *Global transit ISPs*: Offer Internet connectivity globally.
- *Interconnection*: Tier-1 ISPs must interconnect to enable communication between access ISPs connected to different global transit providers.
- *Examples*: Level 3 Communications, AT&T, Sprint, NTT.
### Regional and Access ISPs
- *Regional ISPs*: Serve specific regions and connect to tier-1 ISPs.
- *Access ISPs*: Connect end users to the Internet, paying regional ISPs or tier-1 ISPs for connectivity.
### Points of Presence (PoPs) and Multi-Homing
- *PoPs*: Locations where customer ISPs connect to provider ISPs, except at the access ISP level.
- *Multi-Homing*: ISPs connecting to multiple provider ISPs for redundancy and reliability.
- *Traffic exchange*: ISPs peer directly with each other to reduce costs, typically settlement-free.
### Internet Exchange Points (IXPs)
- *Meeting points*: Where multiple ISPs peer together, reducing costs and improving performance.
- *Over 600 IXPs*: Facilitating direct peering among ISPs globally.
### Content-Provider Networks
- *Content providers*: Like Google, maintain their own networks and data centers globally.
- *Private networks*: Google's private TCP/IP network connects its data centers, bypassing upper-tier ISPs where possible.
- *Direct peering*: Content providers peer directly with lower-tier ISPs to reduce costs and gain control over service delivery.
### Complexity and Diversity
- *Complex network*: Consisting of tier-1 ISPs, lower-tier ISPs, and content-provider networks.
- *Diverse coverage*: Some ISPs span continents, while others are limited to specific regions.
- *Customer relationships*: Users and content providers are customers of lower-tier ISPs, which in turn are customers of higher-tier ISPs.